<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spotify</title>
</head>
<body id="teste" style="background-color: #232723; margin-top: 150px">
  <div style="display: flex; justify-content: center">
      <img src="./public/spotify-logo.png" height="200" width="700">
  </div>
  <div style="display: flex; justify-content: center">
      <form>
          <button
                  type="button"
                  onclick="testando()"
                  style="
                    padding: 10px 50px;
                    border-radius: 50px;
                    border: none;
                    background-color: #1DB954;
                    color: #000;
                    font-weight: bold;
                    margin-top: 50px;
                    cursor: pointer;
                  "
          >Entrar</button>
      </form>
  </div>
</body>

<script>

    function testando() {
        var myHeaders = new Headers({'content-type': 'application/json'});

        var myInit = {
            method: 'GET',
            headers: myHeaders,
            mode: 'cors',
            cache: 'default'
        };

        fetch('http://localhost:8080/connection/setaSessao', myInit)
                .then((response) => response.json())
                .then((loginData) => window.location.replace(loginData.authURL));

    }

</script>

</html>