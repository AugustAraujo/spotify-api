<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
</head>
<body>
    <h1>deu certo</h1>
</body>

<script src="/webjars/jquery/3.6.0/jquery.js" type="text/javascript"></script>


<script>



    window.addEventListener("load", function(event) {
        const urlParams = new URLSearchParams(window.location.search);
        const myParam = urlParams.get('code');
        console.log(myParam)

        var myHeaders = new Headers();

        var options = {
            method: 'POST',
            headers: myHeaders,
            mode: 'no-cors',
            cache: 'default',
            body: myParam
        };

            //Inicio da funcao
            $.ajax({
                //Metodo utilizado
                type: "POST",
                //Pagina que recebe os daods
                url: "http://localhost:8080/connection/currentUser/" + myParam,
                //String de dados enviada
                data: "Code="+ myParam,
                //Inicio da funcao que requisita a resposta da pagina onde recebeu os dados
                success: function(msg){
                    alert( "Sucesso! " + msg );


                }
            });

        });

</script>
</html>